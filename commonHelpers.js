import{S as C,i as y}from"./assets/vendor-0fc460d7.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&t(u)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();function b(r,e,a){return axios.get("https://pixabay.com/api/",{params:{key:"45153931-2470322a6efc3ba9ceddb2cb4",image_type:"photo",orientation:"horizontal",safesearch:!0,q:r,per_page:a,page:e}})}let g=new C(".img-list a",{captions:!0,captionSelector:"img",captionType:"attr",captionsData:"alt",captionPosition:"bottom",captionDelay:250});function L(r,e){const a=r.map(t=>`<li class="gallery-item">
            <a class="gallery-link" href="${t.largeImageURL}">
            <img
            class="gallery-img"
            src="${t.webformatURL}"
            data-source="${t.largeImageURL}"
            alt="${t.tags}">
            </a>
            <div class="img-description">
              <p class="description-text">Likes <span class="description-value"> ${t.likes}</span></p>
              <p class="description-text">Views <span class="description-value"> ${t.views}</span></p>
              <p class="description-text">Comments <span class="description-value"> ${t.comments}</span></p>
              <p class="description-text">Downloads <span class="description-value"> ${t.downloads}</span></p>
            </div>
              </li>`).join("");e.insertAdjacentHTML("beforeend",a),g.on("show.simplelightbox",function(){}),g.refresh()}const S=document.querySelector(".search-form"),B=document.querySelector(".search-input"),h=document.querySelector(".img-list"),f=document.querySelector(".load-more-btn"),x=document.querySelector(".loader");function l(r){y.error({message:r,position:"topRight",backgroundColor:"#EF4040",messageColor:"#fff",iconColor:"#fff",icon:"fa-regular fa-circle-xmark",progressBarColor:"#B51B1B",maxWidth:432,messageSize:"16"})}let c=1;const m=15;let p,d;class w{constructor(e,a){this.buttonEL=e,this.hiddenClass=a}hide(){this.buttonEL.classList.add(this.hiddenClass)}show(){this.buttonEL.classList.remove(this.hiddenClass)}disable(){this.buttonEL.disabled=!0}enable(){this.buttonEL.disabled=!1}}const i=new w(f,"is-hidden"),n=new w(x,"is-hidden");i.hide();n.hide();S.addEventListener("submit",E);async function E(r){if(r.preventDefault(),i.hide(),h.innerHTML="",d=B.value.trim(),n.show(),d===""){i.hide(),n.hide(),l("Please fill the search field!");return}else{c=1;try{const e=await b(d,c,m),a=e.data.hits,t=e.data.totalHits;p=Math.ceil(t/m),t>0?(i.show(),i.disable(),L(a,h),n.hide()):(n.hide(),l("Sorry, there are no images matching your search query. Please try again!"),i.hide()),p>1?(i.enable(),f.addEventListener("click",v)):i.hide()}catch(e){l(`Помилка під час запиту: ${e.message}`)}finally{r.target.reset()}}}async function v(){i.disable(),c=c+1,n.show();try{const e=(await b(d,c,m)).data.hits;L(e,h);let t=document.querySelector(".gallery-item").getBoundingClientRect();window.scrollBy({top:2*t.height,behavior:"smooth"}),n.hide()}catch(r){l(`Error during request: ${r.message}`)}finally{c===p?(i.hide(),f.removeEventListener("click",v),y.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight",backgroundColor:"#8AC7DB",messageColor:"#000",iconColor:"#000",icon:"fa-solid fa-circle-info",progressBarColor:"#B51B1B",maxWidth:432,messageSize:"16"})):i.enable()}}
//# sourceMappingURL=commonHelpers.js.map
