{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["function fetchImages(searchValue, photoesContainer) {\n  const searchParams = new URLSearchParams({\n    key: '45153931-2470322a6efc3ba9ceddb2cb4',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    q: searchValue,\n  });\n\n  let url = `https://pixabay.com/api/?${searchParams}`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nexport default fetchImages;\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet gallery = new SimpleLightbox('.img-list a', {\n  captions: true,\n  captionSelector: 'img',\n  captionType: 'attr',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nfunction renderPhotoes(photos, imgList) {\n  const markup = photos.hits\n    .map(photo => {\n      return `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${photo.largeImageURL}\">\n            <img\n            class=\"gallery-img\"\n            src=\"${photo.webformatURL}\"\n            data-source=\"${photo.largeImageURL}\"\n            alt=\"${photo.tags}\">\n            </a>\n            <div class=\"img-description\">\n              <p class=\"description-text\">Likes <span class=\"description-value\"> ${photo.likes}</span></p>\n              <p class=\"description-text\">Views <span class=\"description-value\"> ${photo.views}</span></p>\n              <p class=\"description-text\">Comments <span class=\"description-value\"> ${photo.comments}</span></p>\n              <p class=\"description-text\">Downloads <span class=\"description-value\"> ${photo.downloads}</span></p>\n            </div>\n              </li>`;\n    })\n    .join('');\n\n  imgList.insertAdjacentHTML('afterbegin', markup);\n\n  gallery.on('show.simplelightbox', function () {});\n  gallery.refresh();\n}\n\nexport default renderPhotoes;\n","import fetchImages from './js/pixabay-api.js';\nimport renderPhotoes from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchForm = document.querySelector('.search-form');\nconst searchField = document.querySelector('.search-input');\nconst imgList = document.querySelector('.img-list');\nconst photoesContainer = document.querySelector('.img-section');\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  imgList.innerHTML = '';\n\n  const downloadStatus = '<div class=\"loader\"></div>';\n  photoesContainer.insertAdjacentHTML('afterbegin', downloadStatus);\n\n  let searchValue = searchField.value;\n  const loader = document.querySelector('.loader');\n\n  if (searchField.value !== '') {\n    fetchImages(searchValue, photoesContainer)\n      .then(photos => {\n        if (photos.total === 0) {\n          imgList.innerHTML = '';\n          iziToast.error({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n            backgroundColor: '#EF4040',\n            messageColor: '#fff',\n            iconColor: '#fff',\n            icon: 'fa-regular fa-circle-xmark',\n            progressBarColor: '#B51B1B',\n            maxWidth: 432,\n            messageSize: '16',\n          });\n\n          loader.remove();\n        } else {\n          renderPhotoes(photos, imgList);\n          loader.remove();\n        }\n      })\n      .catch(error => {\n        console.log('This error');\n        console.log(error);\n      });\n  } else {\n    iziToast.error({\n      message: 'Please fill the search field!',\n      position: 'topRight',\n      backgroundColor: '#EF4040',\n      messageColor: '#fff',\n      iconColor: '#fff',\n      icon: 'fa-regular fa-circle-xmark',\n      progressBarColor: '#B51B1B',\n      maxWidth: 432,\n      messageSize: '16',\n    });\n    loader.remove();\n  }\n});\n"],"names":["fetchImages","searchValue","photoesContainer","url","response","gallery","SimpleLightbox","renderPhotoes","photos","imgList","markup","photo","searchForm","searchField","event","downloadStatus","loader","iziToast","error"],"mappings":"6vBAAA,SAASA,EAAYC,EAAaC,EAAkB,CASlD,IAAIC,EAAM,4BARW,IAAI,gBAAgB,CACvC,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,EAAGF,CACP,CAAG,CAEiD,GAElD,OAAO,MAAME,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCdA,IAAIC,EAAU,IAAIC,EAAe,cAAe,CAC9C,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAED,SAASC,EAAcC,EAAQC,EAAS,CACtC,MAAMC,EAASF,EAAO,KACnB,IAAIG,GACI;AAAA,4CAC+BA,EAAM,aAAa;AAAA;AAAA;AAAA,mBAG5CA,EAAM,YAAY;AAAA,2BACVA,EAAM,aAAa;AAAA,mBAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA,mFAGsDA,EAAM,KAAK;AAAA,mFACXA,EAAM,KAAK;AAAA,sFACRA,EAAM,QAAQ;AAAA,uFACbA,EAAM,SAAS;AAAA;AAAA,oBAGjG,EACA,KAAK,EAAE,EAEVF,EAAQ,mBAAmB,aAAcC,CAAM,EAE/CL,EAAQ,GAAG,sBAAuB,UAAY,CAAE,CAAA,EAChDA,EAAQ,QAAO,CACjB,CC/BA,MAAMO,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,eAAe,EACpDJ,EAAU,SAAS,cAAc,WAAW,EAC5CP,EAAmB,SAAS,cAAc,cAAc,EAE9DU,EAAW,iBAAiB,SAAUE,GAAS,CAC7CA,EAAM,eAAc,EACpBL,EAAQ,UAAY,GAEpB,MAAMM,EAAiB,6BACvBb,EAAiB,mBAAmB,aAAca,CAAc,EAEhE,IAAId,EAAcY,EAAY,MAC9B,MAAMG,EAAS,SAAS,cAAc,SAAS,EAE3CH,EAAY,QAAU,GACxBb,EAAYC,CAA6B,EACtC,KAAKO,GAAU,CACVA,EAAO,QAAU,GACnBC,EAAQ,UAAY,GACpBQ,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,gBAAiB,UACjB,aAAc,OACd,UAAW,OACX,KAAM,6BACN,iBAAkB,UAClB,SAAU,IACV,YAAa,IACzB,CAAW,EAEDD,EAAO,OAAM,IAEbT,EAAcC,EAAQC,CAAO,EAC7BO,EAAO,OAAM,EAEvB,CAAO,EACA,MAAME,GAAS,CACd,QAAQ,IAAI,YAAY,EACxB,QAAQ,IAAIA,CAAK,CACzB,CAAO,GAEHD,EAAS,MAAM,CACb,QAAS,gCACT,SAAU,WACV,gBAAiB,UACjB,aAAc,OACd,UAAW,OACX,KAAM,6BACN,iBAAkB,UAClB,SAAU,IACV,YAAa,IACnB,CAAK,EACDD,EAAO,OAAM,EAEjB,CAAC"}